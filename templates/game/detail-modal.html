<div class="modal fade" id="modal_{{ game.slug }}" tabindex="-1" aria-labelledby="{{ game.slug }}Label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content bg-dark">
            <div class="modal-header">
                <h1 class="fw-bold">{{ game.title }}</h1>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            
            <div class="modal-body">
                {% comment %} Carousel {% endcomment %}
                <div id="{% if game.slug %}detail_{{ game.slug }}{% endif %}" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        {% for carousel in game.gamecarousel_set.all %}
                            {% if forloop.first %}
                                <button type="button" data-bs-target="#detail_{{ game.slug }}" data-bs-slide-to="{{ forloop.counter0 }}" class="active" aria-current="true" aria-label="Slide {{ forloop.counter0 }}"></button>
                            {% else %}
                                <button type="button" data-bs-target="#detail_{{ game.slug }}" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0 }}"></button>
                            {% endif %}
                        {% endfor %}
                    </div>
        
                    <div class="carousel-inner">
                        {% for carousel in game.gamecarousel_set.all %}
                            {% if forloop.first %}
                                <div class="carousel-item active">
                                    <svg class="bd-placeholder-img" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                                        <title>Placeholder</title>
                                        <img src="{{ carousel.url }}" alt="{{ game.title }}" class="project-img-blur">
                                        <img src="{{ carousel.url }}" alt="{{ game.title }}" class="project-img">
                                    </svg>
                                </div>
                            {% else %}
                                <div class="carousel-item">
                                    <svg class="bd-placeholder-img" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                                        <title>Placeholder</title>
                                        <img src="{{ carousel.url }}" alt="{{ game.title }}" class="project-img-blur">
                                        <img src="{{ carousel.url }}" alt="{{ game.title }}" class="project-img">
                                    </svg>
                                </div>
                            {% endif %}
                            
                        {% endfor %}
                    </div>
                    
                    {% if game.gamecarousel_set.all %}
                        <button class="carousel-control-prev" type="button" data-bs-target="#detail_{{ game.slug }}" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        
                        <button class="carousel-control-next" type="button" data-bs-target="#detail_{{ game.slug }}" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    {% endif %}
                </div>

                <p>{{ game.description }}</p>

                <!-- Details -->
                <ul class="list-unstyled mb-4">
                    <li><b>Status: </b>{{ game.gamedetail.get_status_display }}</li>
                    <li><b>Platform: </b>{{ game.gamedetail.platform }}</li>
                    <li><b>Genre: </b>{{ game.gamedetail.genre }}</li>
                    <li><b>Engine: </b>{{ game.gamedetail.engine }}</li>
                    <li><b>Language(s): </b>{{ game.gamedetail.language }}</li>
                    <li><b>Team: </b> 
                        <ul>
                            {% for team_member in game.gamedetail.parse_team %}
                                {% if team_member %}
                                    <li>{{ team_member }}</li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </li>
                </ul>
                
                <!-- Link play -->
                <div class="d-flex align-items-center">
                    <div class="btn-group">
                        <a href="{{ game.play_url }}" class="btn btn-outline-warning">Play</a>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>